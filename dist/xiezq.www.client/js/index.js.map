{"version":3,"file":"js/index.js","sources":["/Users/xiezq/home/rsbuild-koa-vue3-ssr/node_modules/.pnpm/@rspack+core@1.2.8_@swc+helpers@0.5.15/node_modules/@rspack/core/dist/cssExtractHmr.js","/Users/xiezq/home/rsbuild-koa-vue3-ssr/src/pages/xiezq.www/app.vue?vue&type=style&index=0&id=0f6421b2&lang=stylus&module=true","webpack://rsbuild-demo/./src/pages/xiezq.www/app.vue?1ab3","/Users/xiezq/home/rsbuild-koa-vue3-ssr/src/pages/xiezq.www/index.client.js","/Users/xiezq/home/rsbuild-koa-vue3-ssr/src/pages/xiezq.www/app.vue","webpack://rsbuild-demo/./src/pages/xiezq.www/app.vue?1174","/Users/xiezq/home/rsbuild-koa-vue3-ssr/src/pages/xiezq.www/app.vue?vue&type=template&id=0f6421b2"],"sourcesContent":["\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/runtime/cssExtractHmr.ts\nvar cssExtractHmr_exports = {};\n__export(cssExtractHmr_exports, {\n  cssReload: () => cssReload,\n  normalizeUrl: () => normalizeUrl\n});\nmodule.exports = __toCommonJS(cssExtractHmr_exports);\nfunction normalizeUrl(url) {\n  const urlString = url.trim();\n  if (/^data:/i.test(urlString)) {\n    return urlString;\n  }\n  const protocol = urlString.indexOf(\"//\") !== -1 ? `${urlString.split(\"//\")[0]}//` : \"\";\n  const components = urlString.replace(new RegExp(protocol, \"i\"), \"\").split(\"/\");\n  const host = components[0].toLowerCase().replace(/\\.$/, \"\");\n  components[0] = \"\";\n  const path = components.reduce((accumulator, item) => {\n    switch (item) {\n      case \"..\":\n        accumulator.pop();\n        break;\n      case \".\":\n        break;\n      default:\n        accumulator.push(item);\n    }\n    return accumulator;\n  }, []).join(\"/\");\n  return protocol + host + path;\n}\nvar srcByModuleId = /* @__PURE__ */ Object.create(null);\nvar noDocument = typeof document === \"undefined\";\nvar { forEach } = Array.prototype;\nfunction debounce(fn, time) {\n  let timeout = 0;\n  return function(...args) {\n    const self = this;\n    const functionCall = function functionCall2() {\n      return fn.apply(self, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(functionCall, time);\n  };\n}\nfunction noop() {\n}\nfunction getCurrentScriptUrl(moduleId) {\n  let src = srcByModuleId[moduleId];\n  if (!src) {\n    if (document.currentScript) {\n      ({ src } = document.currentScript);\n    } else {\n      const scripts = document.getElementsByTagName(\"script\");\n      const lastScriptTag = scripts[scripts.length - 1];\n      if (lastScriptTag) {\n        ({ src } = lastScriptTag);\n      }\n    }\n    srcByModuleId[moduleId] = src;\n  }\n  return (fileMap) => {\n    if (!src) {\n      return null;\n    }\n    const splitResult = src.match(/([^\\\\/]+)\\.js$/);\n    const filename = splitResult && splitResult[1];\n    if (!filename || !fileMap) {\n      return [src.replace(\".js\", \".css\")];\n    }\n    return fileMap.split(\",\").map((mapRule) => {\n      const reg = new RegExp(`${filename}\\\\.js$`, \"g\");\n      return normalizeUrl(\n        src.replace(reg, `${mapRule.replace(/{fileName}/g, filename)}.css`)\n      );\n    });\n  };\n}\nfunction updateCss(el, url) {\n  let normalizedUrl;\n  if (!url) {\n    if (!el.href) {\n      return;\n    }\n    normalizedUrl = el.href.split(\"?\")[0];\n  } else {\n    normalizedUrl = url;\n  }\n  if (!isUrlRequest(normalizedUrl)) {\n    return;\n  }\n  if (el.isLoaded === false) {\n    return;\n  }\n  if (!normalizedUrl || !(normalizedUrl.indexOf(\".css\") > -1)) {\n    return;\n  }\n  el.visited = true;\n  const newEl = el.cloneNode();\n  newEl.isLoaded = false;\n  newEl.addEventListener(\"load\", () => {\n    if (newEl.isLoaded) {\n      return;\n    }\n    newEl.isLoaded = true;\n    if (el.parentNode) {\n      el.parentNode.removeChild(el);\n    }\n  });\n  newEl.addEventListener(\"error\", () => {\n    if (newEl.isLoaded) {\n      return;\n    }\n    newEl.isLoaded = true;\n    if (el.parentNode) {\n      el.parentNode.removeChild(el);\n    }\n  });\n  newEl.href = `${normalizedUrl}?${Date.now()}`;\n  const parent = el.parentNode;\n  if (!parent) {\n    return;\n  }\n  if (el.nextSibling) {\n    parent.insertBefore(newEl, el.nextSibling);\n  } else {\n    parent.appendChild(newEl);\n  }\n}\nfunction getReloadUrl(href, src) {\n  let ret = \"\";\n  const normalizedHref = normalizeUrl(href);\n  src.some((url) => {\n    if (normalizedHref.indexOf(src) > -1) {\n      ret = url;\n    }\n  });\n  return ret;\n}\nfunction reloadStyle(src) {\n  if (!src) {\n    return false;\n  }\n  const elements = document.querySelectorAll(\"link\");\n  let loaded = false;\n  forEach.call(elements, (el) => {\n    if (!el.href) {\n      return;\n    }\n    const url = getReloadUrl(el.href, src);\n    if (!isUrlRequest(url)) {\n      return;\n    }\n    if (el.visited === true) {\n      return;\n    }\n    if (url) {\n      updateCss(el, url);\n      loaded = true;\n    }\n  });\n  return loaded;\n}\nfunction reloadAll() {\n  const elements = document.querySelectorAll(\"link\");\n  forEach.call(elements, (el) => {\n    if (el.visited === true) {\n      return;\n    }\n    updateCss(el);\n  });\n}\nfunction isUrlRequest(url) {\n  if (!/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.test(url)) {\n    return false;\n  }\n  return true;\n}\nfunction cssReload(moduleId, options) {\n  if (noDocument) {\n    console.log(\"[HMR] No `window.document` found, CSS HMR disabled\");\n    return noop;\n  }\n  const getScriptSrc = getCurrentScriptUrl(moduleId);\n  function update() {\n    const src = getScriptSrc(options.filename);\n    const reloaded = reloadStyle(src);\n    if (options.locals) {\n      console.log(\"[HMR] Detected local CSS Modules. Reload all CSS\");\n      reloadAll();\n      return;\n    }\n    if (reloaded) {\n      console.log(\"[HMR] CSS reload %s\", src && src.join(\" \"));\n    } else {\n      console.log(\"[HMR] Reload all CSS\");\n      reloadAll();\n    }\n  }\n  return debounce(update, 50);\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  cssReload,\n  normalizeUrl\n});\n","// extracted by css-extract-rspack-plugin\nexport default {\"content\":\"src-pages-xiezq-www-app__content-g9Mqao\"};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = \"{\\\"content\\\":\\\"src-pages-xiezq-www-app__content-g9Mqao\\\"}\";\n        // 1742394257874\n        var cssReload = require(\"../../../node_modules/.pnpm/@rspack+core@1.2.8_@swc+helpers@0.5.15/node_modules/@rspack/core/dist/cssExtractHmr.js\").cssReload(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","export { default } from \"./app.vue.stylus?vue&type=style&index=0&id=0f6421b2&lang=stylus&module=true!=!-!../../../node_modules/.pnpm/@rspack+core@1.2.8_@swc+helpers@0.5.15/node_modules/@rspack/core/dist/cssExtractLoader.js!../../../node_modules/.pnpm/@rsbuild+core@1.2.19/node_modules/@rsbuild/core/compiled/css-loader/index.js??clonedRuleSet-22.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/stylePostLoader.js!builtin:lightningcss-loader??clonedRuleSet-22.use[2]!../../../node_modules/.pnpm/stylus-loader@8.1.1_stylus@0.64.0_webpack@5.98.0/node_modules/stylus-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./app.vue?vue&type=style&index=0&id=0f6421b2&lang=stylus&module=true\"; export * from \"./app.vue.stylus?vue&type=style&index=0&id=0f6421b2&lang=stylus&module=true!=!-!../../../node_modules/.pnpm/@rspack+core@1.2.8_@swc+helpers@0.5.15/node_modules/@rspack/core/dist/cssExtractLoader.js!../../../node_modules/.pnpm/@rsbuild+core@1.2.19/node_modules/@rsbuild/core/compiled/css-loader/index.js??clonedRuleSet-22.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/stylePostLoader.js!builtin:lightningcss-loader??clonedRuleSet-22.use[2]!../../../node_modules/.pnpm/stylus-loader@8.1.1_stylus@0.64.0_webpack@5.98.0/node_modules/stylus-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./app.vue?vue&type=style&index=0&id=0f6421b2&lang=stylus&module=true\"","import { createSSRApp } from 'vue';\nimport App from './app.vue';\n\n// if (!import.meta.env.SSR) {\n//     const script = document.querySelector('script[data-pinia]');\n//     window.X_PINIA = {};\n//     if (script) {\n//         window.X_PINIA = JSON.parse(script.innerText.replace(/&lt;/g, '<').replace(/&gt;/g, '>'));\n//     }\n// }\n\nexport const createApp = () => {\n    const app = createSSRApp(App);\n\n    return { app };\n};\n","/* unplugin-vue-components disabled */import { render } from \"./app.vue.js?vue&type=template&id=0f6421b2!=!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./app.vue?vue&type=template&id=0f6421b2\"\nconst script = {}\n\nconst cssModules = {}\nimport style0 from \"./app.vue.stylus?vue&type=style&index=0&id=0f6421b2&lang=stylus&module=true!=!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./app.vue?vue&type=style&index=0&id=0f6421b2&lang=stylus&module=true\"\ncssModules[\"$style\"] = style0\nif (module.hot) {\n  module.hot.accept(\"./app.vue.stylus?vue&type=style&index=0&id=0f6421b2&lang=stylus&module=true!=!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./app.vue?vue&type=style&index=0&id=0f6421b2&lang=stylus&module=true\", () => {\n    cssModules[\"$style\"] = style0\n    __VUE_HMR_RUNTIME__.rerender(\"0f6421b2\")\n  })\n}\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__cssModules',cssModules],['__file',\"src/pages/xiezq.www/app.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"0f6421b2\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('0f6421b2', __exports__)) {\n    api.reload('0f6421b2', __exports__)\n  }\n  \n  module.hot.accept(\"./app.vue.js?vue&type=template&id=0f6421b2!=!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./app.vue?vue&type=template&id=0f6421b2\", () => {\n    api.rerender('0f6421b2', render)\n  })\n\n}\n\n\nexport default __exports__","/* unplugin-vue-components disabled */export * from \"./app.vue.js?vue&type=template&id=0f6421b2!=!-!../../../node_modules/.pnpm/unplugin@2.2.0/node_modules/unplugin/dist/rspack/loaders/transform.js??unplugin-vue-components!../../../node_modules/.pnpm/unplugin@2.2.0/node_modules/unplugin/dist/rspack/loaders/transform.js??unplugin-auto-import!builtin:swc-loader??clonedRuleSet-3.use[0]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[13].use[0]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.13_webpack@5.98.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./app.vue?vue&type=template&id=0f6421b2\"","import { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock(\"div\", {\n        class: _normalizeClass(_ctx.$style.content)\n    }, _cache[0] || (_cache[0] = [\n        _createElementVNode(\"h1\", null, \"Rsbuild with Vue\", -1 /* HOISTED */ ),\n        _createElementVNode(\"p\", null, \"Start building amazing things with Rsbuild.\", -1 /* HOISTED */ )\n    ]), 2 /* CLASS */ );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC5NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACvBA;;;;;;;;;;ACAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC/BA;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}